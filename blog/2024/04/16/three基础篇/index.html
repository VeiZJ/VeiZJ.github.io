<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="基础材质基类：Material定义：材质描述了对象objects的外光，它们的定义方式与渲染器无关，如果使用不同的渲染器，则不必重写材质。   整体上来看，就是渲染表现能力越强，占用的计算机硬件资源更多。  占用渲染资源 MeshBasicMaterial &lt; MeshLambertMaterial &lt; MeshPhongMaterial &lt; MeshStandardMateri">
<meta property="og:type" content="article">
<meta property="og:title" content="three基础篇">
<meta property="og:url" content="http://example.com/blog/2024/04/16/three%E5%9F%BA%E7%A1%80%E7%AF%87/index.html">
<meta property="og:site_name" content="VEI">
<meta property="og:description" content="基础材质基类：Material定义：材质描述了对象objects的外光，它们的定义方式与渲染器无关，如果使用不同的渲染器，则不必重写材质。   整体上来看，就是渲染表现能力越强，占用的计算机硬件资源更多。  占用渲染资源 MeshBasicMaterial &lt; MeshLambertMaterial &lt; MeshPhongMaterial &lt; MeshStandardMateri">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702368339909.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702368442450.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702370190692.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702368996979.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702368060275.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702435513665.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702544424552.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1712822846881.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1713148838218.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1713149897591.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1713153199017.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1712907318826.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1713170230091.png">
<meta property="og:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1713253141908.png">
<meta property="article:published_time" content="2024-04-16T08:01:16.000Z">
<meta property="article:modified_time" content="2024-04-16T08:02:14.279Z">
<meta property="article:author" content="veizj">
<meta property="article:tag" content="ThreeJS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="d:/Study/%E7%AC%94%E8%AE%B0/three/img/1702368339909.png">

<link rel="canonical" href="http://example.com/blog/2024/04/16/three%E5%9F%BA%E7%A1%80%E7%AF%87/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>three基础篇 | VEI</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/rss2.xml" title="VEI" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">VEI</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/blog/2024/04/16/three%E5%9F%BA%E7%A1%80%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="veizj">
      <meta itemprop="description" content="选择有时候比努力更重要">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="VEI">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          three基础篇
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-04-16 16:01:16 / 修改时间：16:02:14" itemprop="dateCreated datePublished" datetime="2024-04-16T16:01:16+08:00">2024-04-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ThreeJs/" itemprop="url" rel="index"><span itemprop="name">ThreeJs</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>11 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><h3 id="材质"><a href="#材质" class="headerlink" title="材质"></a>材质</h3><h4 id="基类：Material"><a href="#基类：Material" class="headerlink" title="基类：Material"></a>基类：Material</h4><p>定义：材质描述了对象objects的外光，它们的定义方式与渲染器无关，如果使用不同的渲染器，则不必重写材质。</p>
<p><img src="D:/Study/笔记/three/img/1702368339909.png" alt="1702368339909"></p>
<p><img src="D:/Study/笔记/three/img/1702368442450.png" alt="1702368442450"></p>
<p>整体上来看，就是渲染表现能力越强，占用的计算机硬件资源更多。</p>
<ul>
<li>占用渲染资源 MeshBasicMaterial &lt; MeshLambertMaterial &lt; MeshPhongMaterial &lt; MeshStandardMaterial &lt; MeshPhysicalMaterial</li>
<li>渲染表现能力 MeshBasicMaterial &lt; MeshLambertMaterial &lt; MeshPhongMaterial &lt; MeshStandardMaterial &lt; MeshPhysicalMaterial</li>
</ul>
<h5 id="材质或集合体共享"><a href="#材质或集合体共享" class="headerlink" title="材质或集合体共享"></a>材质或集合体共享</h5><p>我们可以直接访问并修改物体的材质对象，因为材质事共享的如果对其进行修改该用到该材质的物体都会发生改变</p>
<p>我们同时也可以直接访问并修改物体的集合体对象，若有其他物体也是用到这个集合体 修改后也会造成影响。</p>
<p><img src="D:/Study/笔记/three/img/1702370190692.png" alt="1702370190692"></p>
<h5 id="三维变量的克隆和复制方法"><a href="#三维变量的克隆和复制方法" class="headerlink" title="三维变量的克隆和复制方法"></a>三维变量的克隆和复制方法</h5><p>let v1 &#x3D; new three.Vector(1,2,3)</p>
<p>letv2 &#x3D; v1.clone() &#x2F;&#x2F;此时会克隆一个与v1一样属性与值得对象</p>
<p>let v3 &#x3D;  {}</p>
<p>v3.copy(v1)可将v1得值赋值给v3 </p>
<p>若是物体得克隆 他的材质与集合体不单独进行克隆得话 那么材质和集合体还是存在共享问题</p>
<p><img src="D:/Study/笔记/three/img/1702368996979.png" alt="1702368996979"></p>
<h4 id="顶点："><a href="#顶点：" class="headerlink" title="顶点："></a>顶点：</h4><p>顶点的每个坐标对应一个顶点法线 ，法线关系光照后阴影的角度。</p>
<p>物体的属性有一些列的属性：position,rotation,scalr等属性 还有相关的方法，其都会继承父级构造函数的属性和方法</p>
<p>向量：normalize 将向量转为单位向量 长度为1</p>
<p><img src="D:/Study/笔记/three/img/1702368060275.png" alt="1702368060275"></p>
<h3 id="组对象group"><a href="#组对象group" class="headerlink" title="组对象group"></a>组对象group</h3><p><img src="D:/Study/笔记/three/img/1702435513665.png" alt="1702435513665"></p>
<p>子对象：group得children属性下可以查看到这个组对象下面得所有子对象。</p>
<p>子对象任何变化始终都是根据着父节点进行的。我们也可以直接使用Object3D创建一个节点对象，也可以给网格添加子对象。</p>
<p>通过设置name 可以给相应的物体设置指定的名字。</p>
<p>Object3D.traverse遍历所有的子节点</p>
<p>Object3D.getObjectByName() 获取指定名称的节点</p>
<p>本地坐标：当前物体的的坐标就是position的位置</p>
<p>Object3D.postion 表示物体的局部位置</p>
<p>世界坐标：本地坐标加上所有上级的坐标累加坐标，是为子集物体始终是相对于父级物体进行偏移的 </p>
<p>Object3D.getWordPosition（v3）:将当前物体的三维坐标存在一个三维向量中，可以获取当这个物体的世界坐标</p>
<p>当我们通过translate修改了集合体顶点坐标的时候，该物体的局部坐标系并没有发生改变，所有我们对这个物体（object3d）的一些列操作（如rotate）这个物体模型会相对于坐标原点进行</p>
<p>物体隐藏visible：物体object3d 隐藏或显示一个模型。 隐藏父级物体 他的子集物体也会被隐藏</p>
<p> 材质隐藏visible：材质materail 通过该属性可以控制是否隐藏该材质对应的模型对象。 相同材质的隐藏的话 所有使用到此材质的物体的模型都会被隐藏</p>
<p>object3d.remove:  scene , mesh ,都有删除这个方法 与add添加模型对立，可以删除他的子代模型 如“senec.remove(light)删除环境光，因为光照也是通过add添加的 ，场景模型多的话可以遍历子代模型条件删除一些模型。在进行删除尝试中发现了一个微妙的问题，就是在遍历traverse中不建议直接删除当前的属性。会出现一些奇怪的问题</p>
<p><img src="D:/Study/笔记/three/img/1702544424552.png" alt="1702544424552"></p>
<h4 id="模型数的遍历"><a href="#模型数的遍历" class="headerlink" title="模型数的遍历"></a>模型数的遍历</h4><p>object3D.traverse() 遍历了下面的所有子子节点。</p>
<p>object3D.getObjectByName() 根据Object.name来查找对应的名字的模型</p>
<p>object3D.visible  控制模型的显示与隐藏</p>
<h4 id="模型-gltf"><a href="#模型-gltf" class="headerlink" title="模型:gltf"></a>模型:gltf</h4><p>包含内容：几乎包含了该模型的所有数据 模型的层级关系,rgb材质，纹理材质,骨骼动画，变形动画…</p>
<p>格式信息：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;asset&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">// 模型材质信息</span></span><br><span class="line">  <span class="attr">&quot;materials&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;pbrMetallicRoughness&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="comment">//PBR材质</span></span><br><span class="line">        <span class="attr">&quot;baseColorFactor&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span><span class="number">0</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;metallicFactor&quot;</span><span class="punctuation">:</span> <span class="number">0.5</span><span class="punctuation">,</span><span class="comment">//金属度</span></span><br><span class="line">        <span class="attr">&quot;roughnessFactor&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="comment">//粗糙度</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 网格模型数据</span></span><br><span class="line">  <span class="attr">&quot;meshes&quot;</span><span class="punctuation">:</span> ...</span><br><span class="line">  <span class="comment">// 纹理贴图</span></span><br><span class="line">  <span class="attr">&quot;images&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="comment">// uri指向外部图像文件</span></span><br><span class="line">            <span class="attr">&quot;uri&quot;</span><span class="punctuation">:</span> <span class="string">&quot;贴图名称.png&quot;</span><span class="comment">//图像数据也可以直接存储在.gltf文件中</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">   <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">     <span class="attr">&quot;buffers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="comment">// 一个buffer对应一个二进制数据块，可能是顶点位置 、顶点索引等数据</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;byteLength&quot;</span><span class="punctuation">:</span> <span class="number">840</span><span class="punctuation">,</span></span><br><span class="line">     <span class="comment">//这里面的顶点数据，也快成单独以.bin文件的形式存在   </span></span><br><span class="line">      <span class="attr">&quot;uri&quot;</span><span class="punctuation">:</span> <span class="string">&quot;data:application/octet-stream;base64,AAAAPwAAAD8AAAA/AAAAPwAAAD8AAAC/.......</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  ],</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<p>gltf格式文件不一定就是以扩展名.gltf结尾，.glb就是gltf格式的二进制文件。比如你可以把.gltf模型和贴图信息全部合成得到一个.glb文件中，.glb文件相对.gltf文件体积更小，网络传输自然更快。</p>
<p><strong>load（’模型地址’，加载成功后的函数，加载时的相关信息）</strong>:我们可以在加载函数中再次处理这个模型，如修改模型的相关属性，可以通过第三个参数来设置相关进度条…</p>
<p><strong>查询模型节点</strong>：getObjectName() 根据模型的name属性来查询谋和模型对象</p>
<p><strong>遍历模型<code>traverse</code></strong>:</p>
<p><strong>查看gltf的默认材质</strong>：</p>
<p>材质相同问题：模型材质共享的问题判断材质的name 是否相同，</p>
<p>解决方案：1,三维建模软件中设置,需要代码改变材质不要共享，要独享材质。2,代码批量更改，克隆材质对象，重新赋值给mesh的材质属性.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gltf.<span class="property">scne</span>.<span class="title function_">getObjectByName</span>(<span class="string">&#x27;汽车&#x27;</span>).<span class="title function_">traverse</span>(<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item.<span class="property">isMesh</span>)&#123;</span><br><span class="line">        item.<span class="property">material</span> = obj.<span class="property">material</span>.<span class="title function_">clone</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="纹理"><a href="#纹理" class="headerlink" title="纹理"></a>纹理</h4><p>如果没有特殊的需求，一般为了正常渲染，避免色差，three.js中贴图的颜色空间编码属性encoding要与webGL渲染器的outputEncoding属性（最新版本中属性名已改为 outputColorSpace ）保持一致。</p>
<p>纹理对象的encoding有多个属性：THREE.LinearEncoding（线性颜色空间：3000 ）,THREE.sRGBEncoding （sRGB颜色空间：3001）</p>
<p>如果webGL的渲染器的色彩空间手动设置了后面的添加的纹理也需要设置成相关的色彩空间（最新版中纹理对象的色彩空间属性名已由encoding改为colorSpace）</p>
<p>给gltf模型更换颜色贴图：TextureLoader()加载新的模型数据 如果直接给gltf的模型材质map设置新的纹理会出现错位的情况，这和贴图的texture的翻转flipY属性有关。</p>
<p>纹理对象的flipY默认值为trun ,gltf的贴图flipY默认值为false,跟换模型的贴图时需要设置为false.</p>
<p>纹理的列阵wrapS wrapT 分别是在UV轴上的如何进行包裹。repeat在uv轴上重复的数量</p>
<p>环境贴图：</p>
<p>立方体纹理加载器cubetextureLoader </p>
<p>这个加载器加载六个图片作为空间的上下左右前后，这个用来加载环境贴图，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载环境贴图</span></span><br><span class="line"><span class="comment">// 加载周围环境6个方向贴图</span></span><br><span class="line"><span class="comment">// 上下左右前后6张贴图构成一个立方体空间</span></span><br><span class="line"><span class="comment">// &#x27;px.jpg&#x27;, &#x27;nx.jpg&#x27;：x轴正方向、负方向贴图  p:正positive  n:负negative</span></span><br><span class="line"><span class="comment">// &#x27;py.jpg&#x27;, &#x27;ny.jpg&#x27;：y轴贴图</span></span><br><span class="line"><span class="comment">// &#x27;pz.jpg&#x27;, &#x27;nz.jpg&#x27;：z轴贴图</span></span><br><span class="line"><span class="keyword">const</span> textureCube = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">CubeTextureLoader</span>()</span><br><span class="line">    .<span class="title function_">setPath</span>(<span class="string">&#x27;./环境贴图/环境贴图0/&#x27;</span>)</span><br><span class="line">    .<span class="title function_">load</span>([<span class="string">&#x27;px.jpg&#x27;</span>, <span class="string">&#x27;nx.jpg&#x27;</span>, <span class="string">&#x27;py.jpg&#x27;</span>, <span class="string">&#x27;ny.jpg&#x27;</span>, <span class="string">&#x27;pz.jpg&#x27;</span>, <span class="string">&#x27;nz.jpg&#x27;</span>]);</span><br><span class="line">    <span class="comment">// CubeTexture表示立方体纹理对象，父类是纹理对象Texture </span></span><br></pre></td></tr></table></figure>



<p>材质MeshStandardMaterial的envMap环境贴图属性，通过pbr材质的贴图属性反射周围的景物。</p>
<p>envMapIntensity属性控制了反光率 <code>roughness</code>：控制粗糙度</p>
<p>环境贴图的色彩空间编码应该与渲染器的保持一致</p>
<p><strong>&#x2F;&#x2F;pbr材质的相关属性：</strong></p>
<p>clearcoat：可以给物体表面设置一层透明膜，就像一层透明的漆，范围在0-1.</p>
<p>clearcoatRoughness：0-1 ；清漆层的粗糙层度。</p>
<p>metalness: 0.9,&#x2F;&#x2F;车外壳金属度<br>roughness: 0.5,&#x2F;&#x2F;车外壳粗糙度</p>
<p>transmission 玻璃透明度</p>
<p>Ior:折光率</p>
<h5 id="场景的背景："><a href="#场景的背景：" class="headerlink" title="场景的背景："></a>场景的背景：</h5><p> 透明度：new Three.WebGLRenderer({alpha：true})或 render.setColorAlpha:0-1</p>
<p>背景色：render.setClearColor(颜色,透明度)</p>
<h6 id="导出图片："><a href="#导出图片：" class="headerlink" title="导出图片："></a>导出图片：</h6><p>1.创建a标签 </p>
<p>2.设置a标签的herf的 为场景的canvas元素，可以通过render.domElement获取</p>
<p>3.渲染器设置preserveDrawingBuffer为true ，开启缓存。</p>
<p>4.通过canvas的toDataURL(‘image&#x2F;png’)获取话不上的像素信息，将以png的格式保存。</p>
<h6 id="mesh重叠时候会出现闪缩的情况叫做深度冲突（z-fighting）"><a href="#mesh重叠时候会出现闪缩的情况叫做深度冲突（z-fighting）" class="headerlink" title="mesh重叠时候会出现闪缩的情况叫做深度冲突（z-fighting）"></a>mesh重叠时候会出现闪缩的情况叫做深度冲突（z-fighting）</h6><h5 id="自定义划线：顶点数据来画"><a href="#自定义划线：顶点数据来画" class="headerlink" title="自定义划线：顶点数据来画"></a>自定义划线：顶点数据来画</h5><p>几何体setFromPoints（v3）将v3顶点数据设为几何体的attribute.position的顶点位置属性。除了可以是三维向量数组还可以是二位向量数组。</p>
<h5 id="曲线：基类cuver"><a href="#曲线：基类cuver" class="headerlink" title="曲线：基类cuver"></a>曲线：基类cuver</h5><p><img src="D:/Study/笔记/three/img/1712822846881.png" alt="1712822846881"></p>
<h3 id="管道几何体"><a href="#管道几何体" class="headerlink" title="管道几何体"></a>管道几何体</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TubeGeometry(path, tubularSegments, radius, radiusSegments, closed)</span><br></pre></td></tr></table></figure>



<h3 id="旋转成型几何体"><a href="#旋转成型几何体" class="headerlink" title="旋转成型几何体"></a>旋转成型几何体</h3><p><strong>LatheGeometry</strong>：通过一个圆形轮廓坐标点 旋转得到一个几何体曲面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LatheGeometry(points, segments, phiStart, phiLength)</span><br><span class="line">points为一个二维矢量组成的一个线段 segments为细分数， phiStart开始角度 phiLength旋转的角度默认值2π</span><br></pre></td></tr></table></figure>

<h3 id="形状几何体"><a href="#形状几何体" class="headerlink" title="形状几何体"></a>形状几何体</h3><p><strong>ShapeGeometry：</strong>通过一个集合的轮廓得到一个多边形几何体平面。</p>
<p>先通过 Shape 将这些点生成一个二维平面，shape([二维矢量点数组…])</p>
<p> 用ShapeGeometry 将这个二位平面装维平面几何体  ShapeGeometry （shape）</p>
<h3 id="多边形轮廓shape-重点"><a href="#多边形轮廓shape-重点" class="headerlink" title="多边形轮廓shape(重点)"></a>多边形轮廓shape(重点)</h3><p>使用一些列路径传入shape生成一个多边形的形状，它可以和<strong>ExtrudeGeometry</strong>、<strong>ShapeGeometry</strong>一起使用，获取点，或者获取三角，也可以获得一个该形状的几何体，非常Nice.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">父类为Path，所以也是继承了父类的相关方法与属性，如画线，画圆，画椭圆，等等获取当前点等属性。</span><br><span class="line">传入点组成opints，可构造一个自定任意形状的多边形</span><br></pre></td></tr></table></figure>



<p><img src="D:/Study/笔记/three/img/1713148838218.png" alt="1713148838218"></p>
<h6 id="若线与圆弧组合的时候，第一次的结束点自动衍生至第二个圆弧的起点。当前一次线画完时会采取以当前的currentPoint为中心点。"><a href="#若线与圆弧组合的时候，第一次的结束点自动衍生至第二个圆弧的起点。当前一次线画完时会采取以当前的currentPoint为中心点。" class="headerlink" title="若线与圆弧组合的时候，第一次的结束点自动衍生至第二个圆弧的起点。当前一次线画完时会采取以当前的currentPoint为中心点。"></a>若线与圆弧组合的时候，第一次的结束点自动衍生至第二个圆弧的起点。当前一次线画完时会采取以当前的currentPoint为中心点。</h6><h6 id="shape的线与圆共同使用的时候，他们的起点会相连接"><a href="#shape的线与圆共同使用的时候，他们的起点会相连接" class="headerlink" title="shape的线与圆共同使用的时候，他们的起点会相连接"></a>shape的线与圆共同使用的时候，他们的起点会相连接</h6><p><img src="D:/Study/笔记/three/img/1713149897591.png" alt="1713149897591"></p>
<h6 id="内孔：holes"><a href="#内孔：holes" class="headerlink" title="内孔：holes"></a>内孔：holes</h6><p>在创建的shape内挖出对应的孔洞，这些孔洞的坐标位置相对原点。</p>
<p><img src="D:/Study/笔记/three/img/1713153199017.png" alt="1713153199017"></p>
<h3 id="边缘几何体"><a href="#边缘几何体" class="headerlink" title="边缘几何体"></a>边缘几何体</h3><p><strong>EdgesGeometry</strong>：给指定几何体添加外边框线查看其边缘。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// 集合体的边界线EdgesGeometry</span></span><br><span class="line">    <span class="keyword">const</span> geometryModle = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">CylinderGeometry</span>(<span class="number">2</span>,<span class="number">2</span>,<span class="number">32</span>)</span><br><span class="line">    <span class="keyword">const</span> materialModle = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">MeshLambertMaterial</span>(&#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="number">0x004444</span>,</span><br><span class="line">        <span class="attr">transparent</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">opacity</span>:<span class="number">0.5</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> mesh2 = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Mesh</span>(geometryModle,materialModle)</span><br><span class="line">    	scene.<span class="title function_">add</span>(mesh2)</span><br><span class="line">    <span class="keyword">const</span> edgesGeometry = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">EdgesGeometry</span>(geometryModle,<span class="number">30</span>)<span class="comment">//第二次参数时发现角度大于	多少时才会渲染</span></span><br><span class="line">    <span class="keyword">const</span> edgesMaterial = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">LineBasicMaterial</span>(&#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="number">0x00ffff</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> lineModle = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">LineSegments</span>(edgesGeometry,edgesMaterial)</span><br><span class="line">    	scene.<span class="title function_">add</span>(lineModle)</span><br><span class="line">	<span class="comment">// 同理相关模型也可以在加载完成后也可以添加边缘线。</span></span><br><span class="line">modelLoader.<span class="title function_">load</span>(<span class="string">&#x27;./bwm/scene.gltf&#x27;</span>,<span class="function">(<span class="params">gltf</span>)=&gt;</span>&#123;</span><br><span class="line">        gltf.<span class="property">scene</span>.<span class="property">position</span>.<span class="title function_">set</span>(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">        gltf.<span class="property">scene</span>.<span class="title function_">traverse</span>(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(item.<span class="property">isMesh</span>)&#123;</span><br><span class="line">                item.<span class="property">material</span> = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">MeshLambertMaterial</span>(&#123;<span class="comment">//设置新的材质属性</span></span><br><span class="line">                     <span class="attr">color</span>: <span class="number">0x004444</span>,</span><br><span class="line">                     <span class="attr">transparent</span>: <span class="literal">true</span>,</span><br><span class="line">                     <span class="attr">opacity</span>: <span class="number">0.5</span>,</span><br><span class="line">                 &#125;)</span><br><span class="line">                 <span class="keyword">const</span> itemEdge = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">EdgesGeometry</span>(item.<span class="property">geometry</span>)<span class="comment">//创建外框线</span></span><br><span class="line">                 <span class="keyword">const</span> itemLineMaterial = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">LineBasicMaterial</span>(&#123;<span class="comment">//线性材质</span></span><br><span class="line">                     <span class="attr">color</span>: <span class="number">0x00ffff</span>,</span><br><span class="line">                 &#125;)</span><br><span class="line">                 <span class="keyword">const</span> itemLine = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Line</span>(itemEdge,itemLineMaterial)</span><br><span class="line">                 item.<span class="title function_">add</span>(itemLine)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">       	scene.<span class="title function_">add</span>(gltf.<span class="property">scene</span>)<span class="comment">//模型添加到场景中</span></span><br></pre></td></tr></table></figure>



<h3 id="拉伸几何体"><a href="#拉伸几何体" class="headerlink" title="拉伸几何体"></a>拉伸几何体</h3><p>**ExtrudeGeometry :**也是通过一个平面坐标拉成一个几何体，</p>
<p>参数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">depth</span>: <span class="number">20</span>,</span><br><span class="line"> <span class="attr">bevelThickness</span>: <span class="number">5</span>, <span class="comment">//倒角尺寸:拉伸方向</span></span><br><span class="line"> <span class="attr">bevelSize</span>: <span class="number">5</span>, <span class="comment">//倒角尺寸:垂直拉伸方向</span></span><br><span class="line"> <span class="attr">bevelSegments</span>: <span class="number">20</span>, <span class="comment">//倒圆角：倒角细分精度，默认3</span></span><br><span class="line"> <span class="attr">extrudePath</span>:cuverpath<span class="comment">//通过一个三维曲线让这个多变对其沿着这个曲线拉伸</span></span><br><span class="line"> <span class="attr">steps</span>:<span class="number">100</span><span class="comment">//沿着路径细分精度，越大越光滑</span></span><br></pre></td></tr></table></figure>



<p><img src="D:/Study/笔记/three/img/1712907318826.png" alt="1712907318826"></p>
<h5 id="弯曲水管流动效果："><a href="#弯曲水管流动效果：" class="headerlink" title="弯曲水管流动效果："></a>弯曲水管流动效果：</h5><p>贴图版本：创建一个贴图，然后将贴图设置一个阵列模式。再render函数中给贴图的x轴的点进行+1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pointsV = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">CatmullRomCurve3</span>([</span><br><span class="line">        <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Vector3</span>(<span class="number">20</span>,<span class="number">10</span>,<span class="number">5</span>),</span><br><span class="line">        <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Vector3</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),</span><br><span class="line">        <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Vector3</span>(-<span class="number">20</span>,-<span class="number">15</span>,-<span class="number">50</span>),</span><br><span class="line">    ])</span><br><span class="line">    <span class="keyword">const</span> pipeBackgroundImage = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">TextureLoader</span>().<span class="title function_">load</span>(img)</span><br><span class="line">    <span class="comment">// pipeBackgroundImage.encoding = THREE.SRGBColorSpace</span></span><br><span class="line">   <span class="comment">// 设置阵列模式</span></span><br><span class="line">    pipeBackgroundImage.<span class="property">wrapS</span> = <span class="variable constant_">THREE</span>.<span class="property">RepeatWrapping</span>;</span><br><span class="line">    pipeBackgroundImage.<span class="property">wrapT</span> = <span class="variable constant_">THREE</span>.<span class="property">RepeatWrapping</span>;</span><br><span class="line">    <span class="comment">// uv两个方向纹理重复数量</span></span><br><span class="line">    pipeBackgroundImage.<span class="property">repeat</span>.<span class="title function_">set</span>(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//注意选择合适的阵列数量</span></span><br><span class="line">    pipeBackgroundImage.<span class="property">encoding</span> = <span class="variable constant_">THREE</span>.<span class="property">SRGBColorSpace</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(pipeBackgroundImage,<span class="string">&#x27;tuoian&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> pipeline = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">TubeGeometry</span>(pointsV,<span class="number">65</span>, <span class="number">2</span>, <span class="number">25</span>)</span><br><span class="line">    <span class="keyword">const</span> pipeMaterial = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">MeshPhysicalMaterial</span>(&#123;<span class="attr">emissive</span>:<span class="string">&#x27;#3f7b9d&#x27;</span>,<span class="attr">side</span>:<span class="variable constant_">THREE</span>.<span class="property">DoubleSide</span>,<span class="attr">map</span>:pipeBackgroundImage,<span class="attr">clearcoat</span>:<span class="number">1</span>&#125;)</span><br><span class="line">    <span class="keyword">const</span> pipeMesh = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Mesh</span>(pipeline,pipeMaterial)</span><br><span class="line">    scene.<span class="title function_">add</span>(pipeMesh)</span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">animation</span>(<span class="params"></span>)&#123;</span><br><span class="line">        pipeBackgroundImage.<span class="property">offset</span>.<span class="property">x</span> += <span class="number">0.0001</span>; <span class="comment">//uv动画</span></span><br><span class="line">        renderer.<span class="title function_">render</span>(scene,camera)</span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(animation)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">animation</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="几何体的顶点属性"><a href="#几何体的顶点属性" class="headerlink" title="几何体的顶点属性"></a>几何体的顶点属性</h3><p>顶点<strong>位置</strong>数据<code>geometry.attributes.position</code></p>
<p>顶点<strong>法向量</strong>数据<code>geometry.attributes.normal</code></p>
<p>顶点<strong>UV</strong>数据<code>geometry.attributes.uv</code></p>
<p>顶点<strong>颜色</strong>数据<code>geometry.attributes.color</code></p>
<p>如何使用顶点颜色: 创建相关几何体时，通过设置起这个几何体顶点数量的颜色。</p>
<p>*若要添加顶点颜色需要在材质中开启vertexColors ，材质的color属性可以不用设置了 </p>
<p>*rgb 范围1-0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const colors = new Float32Array([</span><br><span class="line">	 1, 0, 0, //顶点1颜色 </span><br><span class="line">     0, 0, 1, //顶点2颜色</span><br><span class="line">     0, 1, 0, //顶点3颜色</span><br><span class="line">     ])</span><br><span class="line">geotry.attributes.color = new three.BufferAttribute(colors,3) //三个一组</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><em>颜色的rgb范围如下图  ↓</em></p>
<p><img src="D:/Study/笔记/three/img/1713170230091.png" alt="1713170230091"></p>
<p>绘制彩色曲线</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.创建一个三维贝塞尔曲线或者其他曲线</span></span><br><span class="line"><span class="keyword">const</span> peakCover = <span class="keyword">new</span> three.<span class="title class_">CubicBezierCurve3</span>(</span><br><span class="line">  <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Vector3</span>(<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>),</span><br><span class="line">  <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Vector3</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>),</span><br><span class="line">  <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Vector3</span>(<span class="number">7</span>,<span class="number">6</span>,<span class="number">6</span>),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.获取这个曲线上的所有点位 .getpoints() 参数将曲线分割为多少个点</span></span><br><span class="line"><span class="keyword">const</span> peackPoints = peackCover.<span class="title function_">getpoints</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.设置这些点位的颜色</span></span><br><span class="line"><span class="keyword">let</span> peackColors = []</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i =<span class="number">0</span>;i&lt;peackPoints.<span class="property">length</span>;i++)&#123;</span><br><span class="line">	<span class="keyword">const</span> itemValue = i / peackPoints.<span class="property">length</span> <span class="comment">//等到这个点位对应的rgb</span></span><br><span class="line">	peackColors.<span class="title function_">push</span>(itemValue,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.设置集合体的顶点数据</span></span><br><span class="line"><span class="keyword">const</span> peackCoverGeotry = <span class="keyword">new</span> three.<span class="title class_">BufferGeometry</span>().<span class="title function_">setFromPoints</span>(<span class="keyword">new</span> <span class="title class_">Float32Array</span>(peackColors),<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//5.创建曲线材质</span></span><br><span class="line"><span class="keyword">const</span> peackCoverMaterial = <span class="keyword">new</span> three.<span class="title class_">LineBasicMaterial</span>(&#123;</span><br><span class="line"> <span class="attr">vertexColors</span>:<span class="literal">true</span>,<span class="comment">//使用顶点颜色渲染</span></span><br><span class="line"> <span class="comment">// color:&#x27;red&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建线条</span></span><br><span class="line"><span class="keyword">const</span> coverLine = <span class="keyword">new</span> three.<span class="title class_">Line</span>(peackCoverGeotry,peackCoverMaterial)</span><br><span class="line">scene.<span class="title function_">add</span>(coverLine)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Color的使用"><a href="#Color的使用" class="headerlink" title="Color的使用"></a>Color的使用</h3><p>THREE.Color(r,g,b) 当所有参数被定义时，r是红色分量，g是绿色分量，b是蓝色分量。<br>当只有 r 被定义时：</p>
<ul>
<li>它可用一个十六进制 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Web_colors#Hex_triplet">hexadecimal triplet</a> 值表示颜色（推荐）。</li>
<li>它可以是一个另一个颜色实例。</li>
<li>它可以是另外一个CSS样式。例如：<ul>
<li>‘rgb(250, 0,0)’</li>
<li>‘rgb(100%,0%,0%)’</li>
<li>‘hsl(0, 100%, 50%)’</li>
<li>‘#ff0000’</li>
<li>‘#f00’</li>
<li>‘red’</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const color = new THREE.Color(r,g,b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="color的插值"><a href="#color的插值" class="headerlink" title="color的插值"></a>color的插值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//lerpColors</span></span><br><span class="line"><span class="keyword">const</span> c1 = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Color</span>(<span class="number">0xff0000</span>); <span class="comment">//红色</span></span><br><span class="line"><span class="keyword">const</span> c2 = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Color</span>(<span class="number">0x0000ff</span>); <span class="comment">//蓝色</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Color</span>();</span><br><span class="line"><span class="comment">// 颜色3.lerpColors(颜色1，颜色2，占比) 占比为两种颜色各占多少 但占比为0时到的颜色就是颜色1 占比为1时得到的颜色就是颜色2。 </span></span><br><span class="line">c = c.<span class="title function_">lerpColors</span>(c1,c2,占比<span class="title class_">Value</span>)</span><br><span class="line"><span class="comment">// lerp(颜色1,占比value)</span></span><br><span class="line">c1.<span class="title function_">lerp</span>(c2,<span class="number">1</span>)<span class="comment">// 颜色1.lerp(颜色2,占比) 占比为颜色1与颜色2的占比 占比为0为颜色1， 占比为2时为颜色2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c3 = c1.<span class="title function_">clone</span>().<span class="title function_">lerColor</span>(c1,c2,占比)<span class="comment">//这里是先克隆在用插值修改这个颜色</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>颜色插值的应用:不用自己用相关逻辑来写颜色的属性数组，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">let peakCoverPoint = peakCover.getPoints(20)//获取曲线上的点</span><br><span class="line"> let colorArr = []</span><br><span class="line"> for(let i=0;i&lt; peakCoverPoint.length ;i++)&#123;</span><br><span class="line">     const percent = i / peakCoverPoint.length; //点索引值相对所有点数量的百分比</span><br><span class="line">     //根据顶点位置顺序大小设置颜色渐变</span><br><span class="line">     // 红色分量从0到1变化，蓝色分量从1到0变化</span><br><span class="line">     colorArr.push(percent, 0, 1); //蓝色到红色渐变色</span><br><span class="line"> &#125;</span><br><span class="line"> // 优化↓</span><br><span class="line"> let c1 = new three.Color(0x00ffff)</span><br><span class="line"> let c2 = new three.Color(0xffff00)</span><br><span class="line"> for(let i=0;i&lt; peakCoverPoint.length ;i++)&#123;</span><br><span class="line"> const percent = i / peakCoverPoint.length; //点索引值相对所有点数量的百分比</span><br><span class="line"> //根据顶点位置顺序大小设置颜色渐变</span><br><span class="line"> let c = c1.clone(c2,percent)</span><br><span class="line"> colorArr.push(c.r, c.g, c.b); //颜色插值计算</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="模型的顶点及数据处理"><a href="#模型的顶点及数据处理" class="headerlink" title="模型的顶点及数据处理"></a>模型的顶点及数据处理</h3><p>引入的模型有些在返回的模型json对象的scne.children[0]中有geometry属性。有的会在其下面继续拓展多个物体。此时我们就需要遍历这个对象，去获取他的顶点数据。</p>
<h6 id="BufferAttribute具有getX-getY-getZ-方法获取x-1维-y-2维-z-3维-指定项的数据"><a href="#BufferAttribute具有getX-getY-getZ-方法获取x-1维-y-2维-z-3维-指定项的数据" class="headerlink" title="BufferAttribute具有getX(), getY() ,getZ() 方法获取x(1维) y(2维) z(3维) 指定项的数据"></a>BufferAttribute具有getX(), getY() ,getZ() 方法获取x(1维) y(2维) z(3维) 指定项的数据</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过顶点数据 来将山体根据高度着色</span></span><br><span class="line">modelLoader.<span class="title function_">load</span>(<span class="string">&#x27;shan2.glb&#x27;</span>,<span class="function">(<span class="params">gltf</span>)=&gt;</span>&#123;</span><br><span class="line">       gltf.<span class="property">scene</span>.<span class="property">position</span>.<span class="title function_">set</span>(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>( gltf.<span class="property">scene</span>);</span><br><span class="line">       gltf.<span class="property">scene</span>.<span class="property">scale</span>.<span class="title function_">set</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">25</span>)</span><br><span class="line"></span><br><span class="line">       <span class="keyword">const</span> zArr = [] <span class="comment">//顶点数据组</span></span><br><span class="line">       <span class="comment">//遍历所有物体的顶点将塞入zArr</span></span><br><span class="line">       gltf.<span class="property">scene</span>.<span class="title function_">traverse</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">           <span class="keyword">let</span> itemAttributes = item.<span class="property">geometry</span>.<span class="property">attributes</span><span class="comment">//顶点属性</span></span><br><span class="line">           <span class="keyword">let</span> itemPosition = item.<span class="property">geometry</span>.<span class="property">attributes</span>.<span class="property">position</span><span class="comment">//顶点位置数据</span></span><br><span class="line">           <span class="comment">//在位置数据中有一个count表示这个物体有多少个顶点</span></span><br><span class="line">           <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;itemPosition.<span class="property">length</span>;i++)&#123;</span><br><span class="line">               zArr.<span class="title function_">push</span>(itemPosition.<span class="title function_">getZ</span>(i))</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;)</span><br><span class="line">       zArr.<span class="title function_">sort</span>()<span class="comment">//升序排序</span></span><br><span class="line">       <span class="keyword">let</span> minHeight = zArr[<span class="number">0</span>]<span class="comment">//山脚高度</span></span><br><span class="line">       <span class="keyword">let</span> maxHeight = zArr[zArr.<span class="property">length</span> - <span class="number">1</span>]<span class="comment">//山顶高度</span></span><br><span class="line">       <span class="keyword">let</span> height = maxHeight - minHeight <span class="comment">//山体的高度</span></span><br><span class="line">	<span class="keyword">let</span> minColor = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Color</span>(<span class="number">0x0000ff</span>)<span class="comment">//山脚颜色</span></span><br><span class="line">       <span class="keyword">let</span> maxColor = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Color</span>(<span class="number">0xff0000</span>)<span class="comment">//山顶颜色</span></span><br><span class="line">       <span class="comment">//再次根据当前顶点个数进行循环 设置当前的顶点颜色</span></span><br><span class="line">	gltf.<span class="property">scene</span>.<span class="title function_">traverse</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">       	<span class="keyword">let</span> itemAttributes = item.<span class="property">geometry</span>.<span class="property">attributes</span><span class="comment">//顶点属性</span></span><br><span class="line">           <span class="keyword">let</span> itemPosition = item.<span class="property">geometry</span>.<span class="property">attributes</span>.<span class="property">position</span><span class="comment">//顶点位置数据</span></span><br><span class="line">           <span class="keyword">let</span> colorArr = []</span><br><span class="line">    		<span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;itemPosition.<span class="property">count</span>;i++)&#123;</span><br><span class="line">               <span class="keyword">let</span> colorVal = (itemPosition.<span class="title function_">getZ</span>(I) - minHeight) / height</span><br><span class="line">               <span class="keyword">let</span> c = minColor.<span class="title function_">clone</span>().<span class="title function_">lerp</span>(maxColor,colorVal)</span><br><span class="line">               colorArr.<span class="title function_">push</span>(c.<span class="property">r</span>,c.<span class="property">g</span>,c.<span class="property">b</span>)</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">let</span> float32Arr = <span class="keyword">new</span> three.<span class="title class_">Float32Array</span>(colorArr)</span><br><span class="line">           itemAttributes.<span class="property">geometry</span>.<span class="property">color</span> = <span class="keyword">new</span> three.<span class="title class_">BufferAttribute</span>(float32Arr,<span class="number">3</span>)</span><br><span class="line">           </span><br><span class="line">           item.<span class="property">material</span> = <span class="keyword">new</span> three.<span class="title class_">MeshLambertMaterial</span>(&#123;</span><br><span class="line">                <span class="attr">vertexColors</span>:<span class="literal">true</span><span class="comment">//开启顶点颜色</span></span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;)</span><br><span class="line">       </span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="D:/Study/笔记/three/img/1713253141908.png" alt="1713253141908"></p>
<h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><h3 id="资源网站"><a href="#资源网站" class="headerlink" title="资源网站"></a>资源网站</h3><ul>
<li><p>3D模型下载：<a target="_blank" rel="noopener" href="https://sketchfab.com/">https://sketchfab.com/</a></p>
</li>
<li><p>骨骼自动绑定：<a target="_blank" rel="noopener" href="https://www.mixamo.com/">https://www.mixamo.com/</a></p>
</li>
<li><p>360°全景图裁切工具（收费）：<a target="_blank" rel="noopener" href="https://www.ptgui.com/download.html?ps=main">https://www.ptgui.com/download.html?ps=main</a></p>
</li>
<li><p>天空盒切割工具：<a target="_blank" rel="noopener" href="https://matheowis.github.io/HDRI-to-CubeMap/">https://matheowis.github.io/HDRI-to-CubeMap/</a></p>
</li>
<li><p>超全GSAP动画库：<a target="_blank" rel="noopener" href="https://greensock.com/">https://greensock.com/</a></p>
</li>
<li><p>three官方文档：<a target="_blank" rel="noopener" href="https://threejs.org/docs/index.html#manual/zh/introduction/Creating-a-scene">https://threejs.org/docs/index.html#manual/zh/introduction/Creating-a-scene</a></p>
</li>
<li><p>在线免费教程：<a target="_blank" rel="noopener" href="http://www.webgl3d.cn/Three.js/">http://www.webgl3d.cn/Three.js/</a></p>
</li>
<li><p>cannon 物理引擎：<a target="_blank" rel="noopener" href="https://github.com/pmndrs/cannon-es">https://github.com/pmndrs/cannon-es</a></p>
</li>
<li><p>Physijs 物理引擎：<a target="_blank" rel="noopener" href="https://github.com/chandlerprall/Physijs">https://github.com/chandlerprall/Physijs</a></p>
</li>
<li><p>tween.js 创建补间动画（控制机械、游戏角色运动）：<a target="_blank" rel="noopener" href="https://github.com/tweenjs/tween.js/">https://github.com/tweenjs/tween.js/</a></p>
</li>
<li><p>dat.gui 轻量级控制器：<a target="_blank" rel="noopener" href="https://github.com/dataarts/dat.gui">https://github.com/dataarts/dat.gui</a></p>
</li>
<li><p>stats.js 性能监控器（webgl渲染性能）：<a target="_blank" rel="noopener" href="https://github.com/mrdoob/stats.js">https://github.com/mrdoob/stats.js</a></p>
</li>
<li><p>3D素材网-1：<a target="_blank" rel="noopener" href="https://www.poliigon.com/textures">https://www.poliigon.com/textures</a></p>
</li>
<li><p>3D素材网-2：<a target="_blank" rel="noopener" href="https://www.aigei.com/">https://www.aigei.com/</a></p>
</li>
<li><p>3D素材网-3：<a target="_blank" rel="noopener" href="https://www.3dsmj.com/">https://www.3dsmj.com/</a></p>
<h5 id="模型网站"><a href="#模型网站" class="headerlink" title="模型网站"></a>模型网站</h5></li>
<li><p>1，Turbosquid</p>
</li>
<li><p>2，Free 3D</p>
</li>
<li><p>3，ShareOG</p>
</li>
<li><p>4，3Delicious</p>
</li>
<li><p>5，Oyonale</p>
</li>
<li><p>6，Telias</p>
</li>
<li><p>7，Cults</p>
</li>
</ul>

    </div>

    
    
    
        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/ThreeJS/" rel="tag"># ThreeJS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2023/12/03/nuxt/" rel="prev" title="nuxt">
      <i class="fa fa-chevron-left"></i> nuxt
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%90%E8%B4%A8"><span class="nav-number">1.1.</span> <span class="nav-text">材质</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E7%B1%BB%EF%BC%9AMaterial"><span class="nav-number">1.1.1.</span> <span class="nav-text">基类：Material</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9D%90%E8%B4%A8%E6%88%96%E9%9B%86%E5%90%88%E4%BD%93%E5%85%B1%E4%BA%AB"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">材质或集合体共享</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%89%E7%BB%B4%E5%8F%98%E9%87%8F%E7%9A%84%E5%85%8B%E9%9A%86%E5%92%8C%E5%A4%8D%E5%88%B6%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">三维变量的克隆和复制方法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B6%E7%82%B9%EF%BC%9A"><span class="nav-number">1.1.2.</span> <span class="nav-text">顶点：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E5%AF%B9%E8%B1%A1group"><span class="nav-number">1.2.</span> <span class="nav-text">组对象group</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B%E6%95%B0%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-number">1.2.1.</span> <span class="nav-text">模型数的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B-gltf"><span class="nav-number">1.2.2.</span> <span class="nav-text">模型:gltf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%B9%E7%90%86"><span class="nav-number">1.2.3.</span> <span class="nav-text">纹理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E7%9A%84%E8%83%8C%E6%99%AF%EF%BC%9A"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">场景的背景：</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AF%BC%E5%87%BA%E5%9B%BE%E7%89%87%EF%BC%9A"><span class="nav-number">1.2.3.1.1.</span> <span class="nav-text">导出图片：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mesh%E9%87%8D%E5%8F%A0%E6%97%B6%E5%80%99%E4%BC%9A%E5%87%BA%E7%8E%B0%E9%97%AA%E7%BC%A9%E7%9A%84%E6%83%85%E5%86%B5%E5%8F%AB%E5%81%9A%E6%B7%B1%E5%BA%A6%E5%86%B2%E7%AA%81%EF%BC%88z-fighting%EF%BC%89"><span class="nav-number">1.2.3.1.2.</span> <span class="nav-text">mesh重叠时候会出现闪缩的情况叫做深度冲突（z-fighting）</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%92%E7%BA%BF%EF%BC%9A%E9%A1%B6%E7%82%B9%E6%95%B0%E6%8D%AE%E6%9D%A5%E7%94%BB"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">自定义划线：顶点数据来画</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9B%B2%E7%BA%BF%EF%BC%9A%E5%9F%BA%E7%B1%BBcuver"><span class="nav-number">1.2.3.3.</span> <span class="nav-text">曲线：基类cuver</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%E5%87%A0%E4%BD%95%E4%BD%93"><span class="nav-number">1.3.</span> <span class="nav-text">管道几何体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%8B%E8%BD%AC%E6%88%90%E5%9E%8B%E5%87%A0%E4%BD%95%E4%BD%93"><span class="nav-number">1.4.</span> <span class="nav-text">旋转成型几何体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BD%A2%E7%8A%B6%E5%87%A0%E4%BD%95%E4%BD%93"><span class="nav-number">1.5.</span> <span class="nav-text">形状几何体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E8%BE%B9%E5%BD%A2%E8%BD%AE%E5%BB%93shape-%E9%87%8D%E7%82%B9"><span class="nav-number">1.6.</span> <span class="nav-text">多边形轮廓shape(重点)</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%8B%A5%E7%BA%BF%E4%B8%8E%E5%9C%86%E5%BC%A7%E7%BB%84%E5%90%88%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%9A%84%E7%BB%93%E6%9D%9F%E7%82%B9%E8%87%AA%E5%8A%A8%E8%A1%8D%E7%94%9F%E8%87%B3%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%9C%86%E5%BC%A7%E7%9A%84%E8%B5%B7%E7%82%B9%E3%80%82%E5%BD%93%E5%89%8D%E4%B8%80%E6%AC%A1%E7%BA%BF%E7%94%BB%E5%AE%8C%E6%97%B6%E4%BC%9A%E9%87%87%E5%8F%96%E4%BB%A5%E5%BD%93%E5%89%8D%E7%9A%84currentPoint%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%82%B9%E3%80%82"><span class="nav-number">1.6.0.0.1.</span> <span class="nav-text">若线与圆弧组合的时候，第一次的结束点自动衍生至第二个圆弧的起点。当前一次线画完时会采取以当前的currentPoint为中心点。</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#shape%E7%9A%84%E7%BA%BF%E4%B8%8E%E5%9C%86%E5%85%B1%E5%90%8C%E4%BD%BF%E7%94%A8%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E4%BB%96%E4%BB%AC%E7%9A%84%E8%B5%B7%E7%82%B9%E4%BC%9A%E7%9B%B8%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.6.0.0.2.</span> <span class="nav-text">shape的线与圆共同使用的时候，他们的起点会相连接</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%86%85%E5%AD%94%EF%BC%9Aholes"><span class="nav-number">1.6.0.0.3.</span> <span class="nav-text">内孔：holes</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%B9%E7%BC%98%E5%87%A0%E4%BD%95%E4%BD%93"><span class="nav-number">1.7.</span> <span class="nav-text">边缘几何体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%89%E4%BC%B8%E5%87%A0%E4%BD%95%E4%BD%93"><span class="nav-number">1.8.</span> <span class="nav-text">拉伸几何体</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%AF%E6%9B%B2%E6%B0%B4%E7%AE%A1%E6%B5%81%E5%8A%A8%E6%95%88%E6%9E%9C%EF%BC%9A"><span class="nav-number">1.8.0.1.</span> <span class="nav-text">弯曲水管流动效果：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%A0%E4%BD%95%E4%BD%93%E7%9A%84%E9%A1%B6%E7%82%B9%E5%B1%9E%E6%80%A7"><span class="nav-number">1.9.</span> <span class="nav-text">几何体的顶点属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Color%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">1.10.</span> <span class="nav-text">Color的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#color%E7%9A%84%E6%8F%92%E5%80%BC"><span class="nav-number">1.10.0.0.1.</span> <span class="nav-text">color的插值</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B%E7%9A%84%E9%A1%B6%E7%82%B9%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="nav-number">1.11.</span> <span class="nav-text">模型的顶点及数据处理</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#BufferAttribute%E5%85%B7%E6%9C%89getX-getY-getZ-%E6%96%B9%E6%B3%95%E8%8E%B7%E5%8F%96x-1%E7%BB%B4-y-2%E7%BB%B4-z-3%E7%BB%B4-%E6%8C%87%E5%AE%9A%E9%A1%B9%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-number">1.11.0.0.1.</span> <span class="nav-text">BufferAttribute具有getX(), getY() ,getZ() 方法获取x(1维) y(2维) z(3维) 指定项的数据</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-number">1.11.1.</span> <span class="nav-text">分类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E7%BD%91%E7%AB%99"><span class="nav-number">1.12.</span> <span class="nav-text">资源网站</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B%E7%BD%91%E7%AB%99"><span class="nav-number">1.12.0.1.</span> <span class="nav-text">模型网站</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="veizj"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">veizj</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yourname" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/yourname" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://plus.google.com/yourname" title="Google → https:&#x2F;&#x2F;plus.google.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i>Google</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://youtube.com/yourname" title="YouTube → https:&#x2F;&#x2F;youtube.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2023-08 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">veizj</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">73k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:07</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>



        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.8' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
